{"name": "test_handshake_over_terrible_network", "status": "broken", "statusDetails": {"message": "_pytest.fixtures.FixtureLookupError: ('autojump_clock', <FixtureRequest for <Function test_handshake_over_terrible_network>>)", "trace": "file C:\\Users\\ADMIN\\OneDrive\\Desktop\\PHP_HIMS\\Lib\\site-packages\\trio\\_tests\\test_dtls.py, line 120\n  @slow\n  async def test_handshake_over_terrible_network(\n      autojump_clock: trio.testing.MockClock,\n  ) -> None:\n      HANDSHAKES = 100\n      r = random.Random(0)\n      fn = FakeNet()\n      fn.enable()\n      # avoid spurious timeouts on slow machines\n      autojump_clock.autojump_threshold = 0.001\n\n      async with dtls_echo_server() as (_, address):\n          async with trio.open_nursery() as nursery:\n\n              async def route_packet(packet: UDPPacket) -> None:\n                  while True:\n                      op = r.choices(\n                          [\"deliver\", \"drop\", \"dupe\", \"delay\"],\n                          weights=[0.7, 0.1, 0.1, 0.1],\n                      )[0]\n                      print(f\"{packet.source} -> {packet.destination}: {op}\")\n                      if op == \"drop\":\n                          return\n                      elif op == \"dupe\":\n                          fn.send_packet(packet)\n                      elif op == \"delay\":\n                          await trio.sleep(r.random() * 3)\n                      # I wanted to test random packet corruption too, but it turns out\n                      # openssl has a bug in the following scenario:\n                      #\n                      # - client sends ClientHello\n                      # - server sends HelloVerifyRequest with cookie -- but cookie is\n                      #   invalid b/c either the ClientHello or HelloVerifyRequest was\n                      #   corrupted\n                      # - client re-sends ClientHello with invalid cookie\n                      # - server replies with new HelloVerifyRequest and correct cookie\n                      #\n                      # At this point, the client *should* switch to the new, valid\n                      # cookie. But OpenSSL doesn't; it stubbornly insists on re-sending\n                      # the original, invalid cookie over and over. In theory we could\n                      # work around this by detecting cookie changes and starting over\n                      # with a whole new SSL object, but (a) it doesn't seem worth it, (b)\n                      # when I tried then I ran into another issue where OpenSSL got stuck\n                      # in an infinite loop sending alerts over and over, which I didn't\n                      # dig into because see (a).\n                      #\n                      # elif op == \"distort\":\n                      #     payload = bytearray(packet.payload)\n                      #     payload[r.randrange(len(payload))] ^= 1 << r.randrange(8)\n                      #     packet = attrs.evolve(packet, payload=payload)\n                      else:\n                          assert op == \"deliver\"\n                          print(\n                              f\"{packet.source} -> {packet.destination}: delivered\"\n                              f\" {packet.payload.hex()}\",\n                          )\n                          fn.deliver_packet(packet)\n                          break\n\n              def route_packet_wrapper(packet: UDPPacket) -> None:\nE       fixture 'autojump_clock' not found\n>       available fixtures: cache, capfd, capfdbinary, caplog, capsys, capsysbinary, doctest_namespace, monkeypatch, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory\n>       use 'pytest --fixtures [testpath]' for help on them.\n\nC:\\Users\\ADMIN\\OneDrive\\Desktop\\PHP_HIMS\\Lib\\site-packages\\trio\\_tests\\test_dtls.py:120"}, "start": 1740043659947, "stop": 1740043659947, "uuid": "8f2a2708-23ab-4571-a6aa-3999a64ab09f", "historyId": "ed42902cd50cd7c7b5b7c40e68d81fc8", "testCaseId": "ed42902cd50cd7c7b5b7c40e68d81fc8", "fullName": "Lib.site-packages.trio._tests.test_dtls#test_handshake_over_terrible_network", "labels": [{"name": "tag", "value": "@pytest.mark.skipif(False, reason='use --run-slow to run slow tests')"}, {"name": "parentSuite", "value": "Lib.site-packages.trio._tests"}, {"name": "suite", "value": "test_dtls"}, {"name": "host", "value": "DESKTOP-5N0UDE1"}, {"name": "thread", "value": "16268-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "Lib.site-packages.trio._tests.test_dtls"}]}